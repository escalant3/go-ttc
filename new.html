<!doctype html>
<html lang="en" ng-app="GoTTC">
<head>
  <meta charset="utf-8">
  <title>GoTTC</title>
  <meta name="description" content="GoTTC app">
  <meta name="author" content="Gregry Pike & Diego Escalante">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, target-densitydpi=device-dpi">
  <link rel="stylesheet" href="new.css?v=1.0">
</head>
<body ng-controller="MainCtrl">

<div class="container">

<section 
  id="settings" 
  ng-class="{'hide-pane': tab!='settings'}">

  <div class="localize-elements">

    <header>
      <h1>
        Settings
      </h1>
    </header>

    <div class="pane">

      <ul>
        <li>
          <strong>Default start</strong>
          <select>
            <option value="nearest">Nearest stops</option>
            <option value="favourites">Favourites stops</option>
          </select>
        </li>
        <li ng-click="tab='nearest'" class="clickable">
          Return to map
        </li>
      </ul>

    </div>

  </div>

</section>

<section 
  id="nearest" 
  ng-class="{'hide-for-settings': tab=='settings', 'hide-for-favourites': tab=='favourites'}">

  <div class="localize-elements">

  <header>
    <a class="icon-settings" ng-click="togglePane('settings')"></a>
    <h1 
      ng-bind="currentIntersection.name" 
      ng-click="togglePane('nearby','subtab')"
      class="nearby-stops clickable">
    </h1>
    <a class="icon-search" ng-click="togglePane('search','subtab')"></a>
  </header>

  <div 
  class="map-area" 
  ng-show="tab=='nearest'" 
  ng-click="changeIntersectionRequest=false">
  <div 
    class="map" 
    go-ttc-map 
    longitude="longitude" 
    latitude="latitude">
    <div 
      intersection-time 
      class="stop tl" 
      ng-show="stopHeadingSouthTime" 
      stop-time="stopHeadingSouthTime" 
      direction="south">
    </div>
    <div 
      intersection-time 
      class="stop tr" 
      ng-show="stopHeadingWestTime" 
      stop-time="stopHeadingWestTime" 
      direction="west">
    </div>
    <div 
      intersection-time 
      class="stop bl" 
      ng-show="stopHeadingEastTime" 
      stop-time="stopHeadingEastTime" 
      direction="east">
    </div>
    <div 
      intersection-time 
      class="stop br" 
      ng-show="stopHeadingNorthTime" 
      stop-time="stopHeadingNorthTime" 
      direction="north">
    </div>
    <img ng-src="{{mapSrc}}">
  </div>
</div>

  <footer>
    <a class="favourites-button" ng-click="tab='favourites'" title="Favourites">
      <label ng-class="{'hide-label': hideFavouritesLabel}" class="clickable">Favourites</label>
    </a>
  </footer>

  <div 
    id="search-intersections"
    ng-class="{'hide-pane': subtab!='search'}">
    <strong>Search for an intersection</strong>
    <div intersection-search></div>
  </div>

  <div 
    id="nearby-intersections"
    ng-class="{'hide-pane': subtab!='nearby'}">
    <strong ng-bind="currentIntersection.name"></strong>
    <p>Switch to another intersection?</p>
    <ul iscroll id="wrapper">
      <li class="alt"><div intersection-search></div></li>
      <li
        ng-repeat="i in nearby" 
        ng-click="changeCurrentIntersection(i)"
        class="list-option clickable"
        ng-class-even="'alt'">
        {{ i.name }}
      </li>
    </ul>
  </div>

  </div>

</section>

<section 
  id="favourites" 
  ng-class="{'hide-pane': tab!='favourites'}">

  <div class="localize-elements">

  <header>
    <h1>
      Favourites
    </h1>
  </header>

  <br><br><br><br><br><br><br><br><br><br><br>
  <button ng-click="tab='nearest'">Nearest</button>

  </div>

</section>

</div>

<script src="js/lib/underscore-min.js"></script>
<script src="js/lib/angular.min.js"></script>
<script src="js/lib/moment.min.js"></script>
<script src="js/lib/iscroll.js"></script>
<script src="js/app.js"></script>
<script src="js/controllers/main.js"></script>
<script src="js/services/ttc-store.js"></script>
<script src="js/services/user-service.js"></script>
<script src="js/services/favourites-service.js"></script>
<script src="js/services/location-service.js"></script>
<script src="js/directives/intersection-time.js"></script>
<script src="js/directives/go-ttc-map.js"></script>
<script src="js/directives/iscroll.js"></script>
<script src="js/directives/favourite-station.js"></script>
<script src="js/directives/loading.js"></script>
<script src="js/directives/intersection-search.js"></script>
<script src="js/filters.js"></script>

<div 
  loading 
  show-loading="fullScreenLoading" 
  class="full-screen-loading"
  ng-class="{'loading-loaded': fullScreenLoading}">
</div>

<div class="modal-overlay" ng-class="{'loading-loaded': fullScreenLoading}"></div>

</body>
</html>

